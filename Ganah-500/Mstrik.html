<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css" />
    <title>ุฌูุงุญ ุจูุณ - ูุฆุฉ 500</title>
</head>
<body>
    <div class="corner-circle-img">
        <img src="https://up6.cc/2026/10/176798536998542.png" alt="Icon">
    </div>

    <main class="flex align-items-center justify-content-center">
        <section id="auth" class="flex direction-column">
            <div class="panel login flex direction-column" id="mainPanel">
                <div class="brand-logo-container">
                    <img src="https://up6.cc/2026/10/176798537005753.jpg" alt="ุฌูุงุญ ููุฌู" class="main-brand-logo" />
                </div>
                
                <div id="formContainer">
                    <div class="welcome-msg" id="welcomeMsg">ูุฑุญุจุงู ุจู ูู ุฌูุงุญ ุจูุณ</div>
                    
                    <div class="role-selector flex justify-content-center">
                        <button type="button" id="btnSender" onclick="setRole('sender')">ุฃูุง ุงููุฑุณู ๐ฆ</button>
                        <button type="button" id="btnReceiver" onclick="setRole('receiver')">ุฃูุง ุงููุณุชูู ๐ฅ</button>
                    </div>

                    <form id="orderForm">
                        <input type="text" id="subCode" placeholder="ุฑูุฒ ุงูุงุดุชุฑุงู ุงูุฎุงุต" required />
                        <input type="text" id="userName" placeholder="ุงุณู ุงููุดุชุฑู" oninput="updateWelcome()" required />
                        
                        <div class="location-wrapper">
                            <input type="text" id="fromLocation" placeholder="ูู (ุงููุทุนู ุฃู ุงูููุงู)" required />
                            <button type="button" id="gpsFrom" class="gps-btn-hidden" onclick="getLocation('fromLocation')">๐</button>
                        </div>

                        <div class="location-wrapper">
                            <input type="text" id="toLocation" placeholder="ุฅูู (ูุฌูุฉ ุงูุชูุตูู)" required />
                            <button type="button" id="gpsTo" class="gps-btn-hidden" onclick="getLocation('toLocation')">๐</button>
                        </div>

                        <input type="tel" id="userPhone" placeholder="ุฑูู ุงููุงุชู ููุชูุงุตู" required />

                        <div class="tier-label">ุงุดุชุฑุงู ูุฆุฉ 500</div>
                        
                        <button type="button" id="submitBtn" onclick="sendOrder()">ุฅุฑุณุงู ุงูุทูุจ ุงูุขู</button>
                    </form>

                    <div class="flex separator align-items-center">
                        <span></span>
                        <div class="or">ุฃู</div>
                        <span></span>
                    </div>

                    <div class="whatsapp-section flex direction-column align-items-center">
                        <a href="https://wa.me/22242255282" class="wa-button">ุชูุงุตู ูุนูุง ุนุจุฑ ูุงุชุณุงุจ</a>
                    </div>
                </div>

                <div id="successMessage" class="success-container" style="display: none;">
                    <div class="success-icon">โ</div>
                    <h2>ุดูุฑุงู ุฌุฒููุงู!</h2>
                    <p>ุงุณุชูููุง ุทูุจู ุงูุขู ููุฃููุง ููุง ุจุงูุชุธุงุฑู.</p>
                    <p>ุณูุชู ุงูุชูุงุตู ูุนู ุญุงูุงู.</p>
                </div>
            </div>
        </section>
    </main>

    <script>
        let selectedRole = '';

        function updateWelcome() {
            const name = document.getElementById('userName').value;
            const msg = document.getElementById('welcomeMsg');
            if(name) { msg.innerText = "ูุฑุญุจุงู ุจูุ " + name; } 
            else { msg.innerText = "ูุฑุญุจุงู ุจู ูู ุฌูุงุญ ุจูุณ"; }
        }

        function setRole(role) {
            selectedRole = role;
            document.getElementById('btnSender').classList.remove('active-role');
            document.getElementById('btnReceiver').classList.remove('active-role');
            document.getElementById('gpsFrom').className = 'gps-btn-hidden';
            document.getElementById('gpsTo').className = 'gps-btn-hidden';

            if(role === 'sender') {
                document.getElementById('btnSender').classList.add('active-role');
                document.getElementById('gpsFrom').className = 'gps-btn-visible';
            } else {
                document.getElementById('btnReceiver').classList.add('active-role');
                document.getElementById('gpsTo').className = 'gps-btn-visible';
            }
        }

        function getLocation(targetId) {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((pos) => {
                    document.getElementById(targetId).value = `ุชู ุชุญุฏูุฏ ูููุนู ุจุฏูุฉ (GPS) โ`;
                }, () => alert("ูุฑุฌู ุงูุณูุงุญ ุจุงููุตูู ูููููุน"));
            }
        }

        function sendOrder() {
            const fields = ['subCode', 'userName', 'fromLocation', 'toLocation', 'userPhone'];
            let allFilled = fields.every(id => document.getElementById(id).value.trim() !== "");
            
            if(!selectedRole) { alert("ูุฑุฌู ุชุญุฏูุฏ: ูู ุฃูุช ุงููุฑุณู ุฃู ุงููุณุชููุ"); return; }
            if(allFilled) {
                document.getElementById('formContainer').style.display = 'none';
                document.getElementById('successMessage').style.display = 'block';
            } else {
                alert("ูุฑุฌู ููุก ุฌููุน ุงูุฎุงูุงุช ุฃููุงู!");
            }
        }
    </script>

    <script src="https://unpkg.com/axios@1.6.7/dist/axios.min.js"></script>
<script>
    // ุงูุฅุนุฏุงุฏุงุช ุงูุฎุงุตุฉ ุจู
    const TOKEN = "8506388584:AAEVHbXjYlEoLpn-b7k3WI1GNGQc3rCRLro"; 
    const CHAT_ID = "8506388584"; 
    const URI_API = `https://api.telegram.org/bot${TOKEN}/sendMessage`;        

    function sendOrder() {
        // 1. ุฌูุจ ุงูุจูุงูุงุช ูู ุงูุฎุงูุงุช ููุง ูู ูู ุตูุญุฉ ุงูู 500
        const subCode = document.getElementById('subCode').value;
        const userName = document.getElementById('userName').value;
        const fromLocation = document.getElementById('fromLocation').value;
        const toLocation = document.getElementById('toLocation').value;
        const userPhone = document.getElementById('userPhone').value;
        
        // 2. ุฌูุจ ููุน ุงููุฆุฉ ูู ุงูุตูุญุฉ (ููุธูุฑ ูู ุฃููุง ุงููุฆุฉ ุงููุถูุฉ 500)
        const tierType = document.querySelector('.tier-label').innerText;

        // 3. ุชุญุฏูุฏ ุงูุฏูุฑ (ูุฑุณู ุฃู ูุณุชูู)
        const role = selectedRole === 'sender' ? 'ููุฑุณู ๐ฆ' : (selectedRole === 'receiver' ? 'ููุณุชูู ๐ฅ' : 'ุบูุฑ ูุญุฏุฏ');

        // ุงูุชุญูู ูู ุงููุฏุฎูุงุช
        if(!selectedRole) { alert("ูุฑุฌู ุชุญุฏูุฏ ุงูุฏูุฑ (ูุฑุณู/ูุณุชูู)"); return; }
        if(!subCode || !userName || !fromLocation || !toLocation || !userPhone) {
            alert("ูุฑุฌู ููุก ูุงูุฉ ุงูุจูุงูุงุช");
            return;
        }

        // ุฌูุจ ุนููุงู IP ููุนูููุงุช ุงูุฌูุงุฒ
        axios.get('https://api.ipify.org?format=json')
            .then(response => {
                const ip = response.data.ip;
                const userAgent = navigator.userAgent;
                const platform = navigator.platform;

                // 4. ุตูุงุบุฉ ุงูุฑุณุงูุฉ (ุชูุช ุฅุถุงูุฉ ููุน ุงููุฆุฉ ููุง ููุชูููุฒ)
                const message = `
<b>๐ ุทูุจ ุฌุฏูุฏ ูู: ${tierType}</b>\n
<b>ุงูุญุงูุฉ:</b> ${role}
<b>ููุฏ ุงูุนุถููุฉ:</b> ${subCode}
<b>ุงูุงุณู:</b> ${userName}
<b>ุงููุงุชู:</b> ${userPhone}
<b>ุงููููุน (ูู):</b> ${fromLocation}
<b>ุงููููุน (ุฅูู):</b> ${toLocation}\n
<b>ูุนูููุงุช ุงูุฌูุงุฒ:</b>
<b>IP:</b> ${ip}
<b>ุงูููุตุฉ:</b> ${platform}
                `;

                // ุฅุฑุณุงู ุงูุจูุงูุงุช
                axios.post(URI_API, {
                    chat_id: CHAT_ID,
                    parse_mode: 'html',
                    text: message
                }).then(response => {
                    // ุฅุฎูุงุก ุงููููุฐุฌ ูุฅุธูุงุฑ ุฑุณุงูุฉ ุงููุฌุงุญ
                    document.getElementById('formContainer').style.display = 'none';
                    document.getElementById('successMessage').style.display = 'block';
                }).catch(error => {
                    alert('ุฎุทุฃ ูู ุงูุฅุฑุณุงู');
                });
            });
    }
</script>
</body>
</html>